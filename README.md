# MoFox-Bot 静音/取消静音插件 (mute_and_unmute_plugin)

## 简介

这是一个为 MoFox-Bot 框架开发的插件，旨在允许 Bot 的主人（Master）控制 Bot 在特定聊天流（群聊或私聊）中**静音（闭嘴）** 和 **取消静音（张嘴）**。插件支持通过命令、自定义别名以及 `@Bot` 的方式进行操作，并提供了丰富的配置选项。

**注意：这是一个半成品插件。** 核心的禁言/解除禁言功能（通过命令和别名）基本可用，但 `@Bot` 解除禁言功能目前无法正常工作。

## 功能特性

*   **命令控制**：
    *   `/mute_mai`：让 Bot 在当前聊天流静音，默认时长从配置文件读取。
    *   `/unmute_mai`：让 Bot 在当前聊天流取消静音。
*   **别名控制**：
    *   支持通过配置文件自定义触发静音/取消静音的别名，例如默认的 `绫绫闭嘴` 和 `绫绫张嘴`。
*   **`@Bot` 解除禁言** (**当前不可用**)：
    *   **功能说明**：当 Bot 处于静音状态时，如果被 `@`，将自动解除静音。
    *   **当前状态**：此功能已实现但无法正常工作，`@` 消息未能被正确识别和处理。
*   **禁言期间消息拦截**：
    *   当 Bot 被设置为静音状态时，它将不会对聊天流中的普通消息做出回应。
*   **配置化**：
    *   **功能开关**：可以分别启用/禁用整个插件、静音/取消静音功能、`@Bot` 唤醒功能。
    *   **别名**：支持自定义静音和取消静音的别名列表。
    *   **默认时长**：可配置 `/mute_mai` 命令不带参数时的默认静音时长。
    * **提示词**：可自定义 Bot 发送的各种提示消息内容。

## 安装

1.  将此插件文件（例如 `plugin.py`）放置到 MoFox-Bot 的 `plugins` 目录下。
2.  （可选）首次运行后，插件会在 `MoFox-Core/config/plugins/` 目录下生成 `mute_and_unmute_plugin/config.toml` 配置文件。可根据需要进行修改。

## 配置 (config.toml)

插件的所有核心参数都可以在 `config.toml` 文件中进行配置。

```toml
[plugin]
# 是否启用整个插件。如果为 false，所有功能都将被禁用。
enabled = true

[features]
# 是否启用静音/取消静音功能。如果为 false，/mute_mai, /unmute_mai 及其别名将无效。
mute_enabled = true
# 是否启用 @Bot 唤醒功能。如果为 false，@Bot 将不会解除禁言。（当前此功能不可用）
at_unmute_enabled = true

[defaults]
# Bot 静音的默认时长（单位：分钟）。
default_mute_minutes = 10

[aliases]
# 触发静音命令的别名列表
mute = ["绫绫闭嘴"]
# 触发取消静音命令的别名列表
unmute = ["绫绫张嘴"]

[messages]
# Bot 开始静音时发送的提示消息模板
mute_start = "好的，我将在当前聊天中保持安静，直到 {unmute_time_str}。"
# Bot 取消静音时发送的提示消息
unmute_start = "好的，我恢复发言了！"
# Bot 在被禁言期间，如果有人说话（非@），Bot 可能会回复的提示消息。留空则不回复。
muted_reply = ""
# Bot 被 @ 时自动解除禁言后发送的提示消息（当前此功能不可用）
at_unmute = "我被 @ 了，所以恢复发言啦！"

